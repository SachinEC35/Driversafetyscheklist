<!DOCTYPE html>
<html>
<head>
  <title>Driver Safety Checklist</title>
</head>
<body>

<h2>Driver Safety Checklist</h2>

<label>Operator Name:</label><br>
<input type="text" id="operator" required><br><br>

<label>Vehicle ID:</label><br>
<select id="vehicle">
  <option value="JH05AB1234">JH05AB1234</option>
  <option value="JH05CD5678">JH05CD5678</option>
   <option value="JH05CD5678">JH05EE7061</option>
   <option value="JH05CD5678">JH05EF9800</option>
</select><br><br>

<input type="checkbox" id="brake"> Brakes OK<br>
<input type="checkbox" id="light"> Lights OK<br>
<input type="checkbox" id="horn"> Horn OK<br>
<input type="checkbox" id="tyre"> Tyres OK<br><br>

<button onclick="submitChecklist()">Confirm</button>

<script>
const SCRIPT_URL = "https://script.google.com/macros/s/AKfycbzwhSYzfbG92FuJ2M_7BGAdYimk8snLOvsYF7PYkinfZ9-44dM2m37Xm9v6q-J4c43sIw/exec?vehicleId=" + vehicleId;


function submitChecklist() {
  const operator = document.getElementById("operator").value;
  const vehicle = document.getElementById("vehicle").value;

  const approved =
    document.getElementById("brake").checked &&
    document.getElementById("light").checked &&
    document.getElementById("horn").checked &&
    document.getElementById("tyre").checked;

  fetch(SCRIPT_URL, {
    method: "POST",
    body: JSON.stringify({
      operator: operator,
      vehicle: vehicle,
      approved: approved
    })
  })
  .then(res => res.json())
  .then(() => {
    alert(approved ? "Checklist Approved" : "Checklist Not Approved");
  });
}
</script>

</body>
</html>
